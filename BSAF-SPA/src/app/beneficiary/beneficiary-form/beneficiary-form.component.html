<form [formGroup]="beneficiaryForm" novalidate (ngSubmit)="onSubmit()">
    <mat-card class="beneficary-card">
        <mat-card-header>
            <mat-card-title>Beneficairy Information</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-tab-group #beneficiaryTab [selectedIndex]="selectedTab.value" (selectedIndexChange)="selectedTab.setValue($event)">
                <mat-tab label="Profile">
                    <h4 class="mt20">1. Border Crossing Point Information</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Card ID</mat-label>
                                <input matInput formControlName="cardID">
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Screening Date</mat-label>
                                <input matInput [matDatepicker]="screeningDate" formControlName="screeningDate">
                                <mat-datepicker-toggle matSuffix [for]="screeningDate"></mat-datepicker-toggle>
                                <mat-datepicker #screeningDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Province" formControlName="provinceBCP">
                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                        {{ provicne.lookupName }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="beneficiaryForm.controls['provinceBCP'].hasError('required')">
                                    State is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Border Point" formControlName="borderPoint">
                                    <mat-option *ngFor="let bPoint of initialLooupsData?.borderCrossingPoints" [value]="bPoint.lookupCode">
                                        {{ bPoint.lookupName }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="beneficiaryForm.controls['borderPoint'].hasError('required')">
                                    State is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <h4>2. Beneficiary Informaion</h4>
                    <div fxLayout="row wrap">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <!-- <div fxLayout="row" fxLayoutAlign="space-between start"> -->
                            <p>Beneficiary Type: </p>
                            <mat-radio-group formControlName="beneficiaryType" fxLayout="row" fxLayoutGap="30px">
                                <mat-radio-button value="Family">Family</mat-radio-button>
                                <mat-radio-button value="Individual">Individual</mat-radio-button>
                            </mat-radio-group>
                            <!-- </div> -->

                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(60.3% - 32px)">
                            <!-- <div fxLayout="row" fxLayoutAlign="space-between start"> -->
                            <p>Return Status: </p>
                            <mat-radio-group formControlName="returnStatus" fxLayout="row" fxLayoutGap="30px">
                                <mat-radio-button value="DEP">Deported</mat-radio-button>
                                <mat-radio-button value="DC">Document claimant</mat-radio-button>
                                <mat-radio-button value="SR">Spontaneous returnee</mat-radio-button>
                            </mat-radio-group>
                            <!-- </div> -->
                        </div>
                    </div>
                    <mat-divider class="mt20">
                    </mat-divider>

                    <div class="mt20">
                        <h4>3. Family members</h4>
                        <div fxLayout="column" class="individualHolder">
                            <table mat-table [dataSource]="individuals" class="mat-elevation-z8">
                                <ng-container matColumnDef="name">
                                    <th mat-header-cell *matHeaderCellDef> Name</th>
                                    <td mat-cell *matCellDef="let row"> {{row.name}} </td>
                                </ng-container>
                                <ng-container matColumnDef="fName">
                                    <th mat-header-cell *matHeaderCellDef>Father Name</th>
                                    <td mat-cell *matCellDef="let row"> {{row.fName}} </td>
                                </ng-container>
                                <ng-container matColumnDef="gender">
                                    <th mat-header-cell *matHeaderCellDef>Gender</th>
                                    <td mat-cell *matCellDef="let row"> {{row.gender}} </td>
                                </ng-container>
                                <ng-container matColumnDef="maritalStatus">
                                    <th mat-header-cell *matHeaderCellDef>MaritalStatus</th>
                                    <td mat-cell *matCellDef="let row"> {{row.maritalStatus}} </td>
                                </ng-container>
                                <ng-container matColumnDef="age">
                                    <th mat-header-cell *matHeaderCellDef>Age</th>
                                    <td mat-cell *matCellDef="let row"> {{row.age}} </td>
                                </ng-container>
                                <ng-container matColumnDef="idType">
                                    <th mat-header-cell *matHeaderCellDef>ID Type</th>
                                    <td mat-cell *matCellDef="let row"> {{row.idType}} </td>
                                </ng-container>
                                <ng-container matColumnDef="idNo">
                                    <th mat-header-cell *matHeaderCellDef>ID No</th>
                                    <td mat-cell *matCellDef="let row"> {{row.idNo}} </td>
                                </ng-container>
                                <ng-container matColumnDef="relationship">
                                    <th mat-header-cell *matHeaderCellDef>Relationship</th>
                                    <td mat-cell *matCellDef="let row"> {{row.relationship}} </td>
                                </ng-container>
                                <ng-container matColumnDef="contactNumber">
                                    <th mat-header-cell *matHeaderCellDef>ContactNo</th>
                                    <td mat-cell *matCellDef="let row"> {{row.contactNumber}} </td>
                                </ng-container>
                                <ng-container matColumnDef="drFName">
                                    <th mat-header-cell *matHeaderCellDef>ولد</th>
                                    <td mat-cell *matCellDef="let row"> {{row.drFName}} </td>
                                </ng-container>
                                <ng-container matColumnDef="drName">
                                    <th mat-header-cell *matHeaderCellDef>نوم/نام</th>
                                    <td mat-cell *matCellDef="let row"> {{row.drName}} </td>
                                </ng-container>
                                <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef style="text-align: right;">
                                        <button type="button" mat-raised-button (click)="addIndividual()" class="m5 btn-add-ind" color="primary" title="Add family memeber" aria-label="Add family memeber">
                                            <mat-icon>person_add</mat-icon>
                                            Add
                                        </button>
                                    </th>
                                    <td mat-cell *matCellDef="let row; let i=index;" fxLayout="row" fxLayoutAlign="end none">
                                        <button type="button" class="m5" mat-mini-fab (click)="editIndividual(i)" color="primary" title="Edite member" aria-label="Edite member">
                                            <mat-icon>edit</mat-icon>
                                        </button>
                                        <button type="button" class="m5" mat-mini-fab (click)="deleteIndividual(i)" color="warn" title="Delete member" aria-label="Delete member">
                                            <mat-icon>delete</mat-icon>
                                        </button>
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="individualsTbleColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: individualsTbleColumns;"></tr>
                            </table>
                        </div>
                    </div>
                    <h4 class="mt10">4. Please indicate the place of origin and intended place of return </h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Origin Province" (selectionChange)="originProvinceChanged($event)" formControlName="originProvince">
                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                        {{ provicne.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(20% - 32px)" fxLayoutAlign="center center">
                            <mat-checkbox id="chSameProvince">Same as Origin</mat-checkbox>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(40.3% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Return Province" (selectionChange)="returnProvinceChanged($event)" formControlName="returnProvince">
                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                        {{ provicne.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Origin District" formControlName="originDistrict">
                                    <mat-option *ngFor="let district of originDistricts" [value]="district.lookupCode">
                                        {{ district.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(20% - 32px)" fxLayoutAlign="center center">
                            <mat-checkbox id="chSameDistrict">Same as Origin</mat-checkbox>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Return District" formControlName="returnDistrict">
                                    <mat-option *ngFor="let district of returnDistricts" [value]="district.lookupCode">
                                        {{ district.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <input matInput placeholder="Origin Village" formControlName="originVillage">
                            </mat-form-field>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(20% - 32px)" fxLayoutAlign="center center">
                            <mat-checkbox id="chSameVillage">Same as Origin</mat-checkbox>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <input matInput placeholder="Village" formControlName="returnVillage">
                            </mat-form-field>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Protection">
                    <h4 class="mt20">5. Does this case have person with specific needs(PSN)</h4>
                    <div formArrayName="psns" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let psn of psns.controls; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div [formGroupName]="i" fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox formControlName="isSelected" value="{{psn.controls.lookupCode.value}}">{{psn.controls.lookupName.value}}</mat-checkbox>
                                    <input matInput formControlName="other" placeholder="PSN other" value="{{psn.controls.lookupName.other}}" *ngIf="psn.controls.isSelected.value == true && psn.controls.lookupName.value == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <h4>6. What were the three main reasons for leaving Afghanistan?</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="First Reason" formControlName="leavingReason1">
                                    <mat-option *ngFor="let reason of initialLooupsData?.leavingReasons" [value]="reason.lookupCode">
                                        {{ reason.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>First Reason Other</mat-label>
                                <input matInput formControlName="leavingReason1Other" placeholder="First Reason Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Second Reason" formControlName="leavingReason2">
                                    <mat-option *ngFor="let reason of initialLooupsData?.leavingReasons" [value]="reason.lookupCode">
                                        {{ reason.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Second Reason Other</mat-label>
                                <input matInput formControlName="leavingReason2Other" placeholder="Second Reason Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Third Reason" formControlName="leavingReason3">
                                    <mat-option *ngFor="let reason of initialLooupsData?.leavingReasons" [value]="reason.lookupCode">
                                        {{ reason.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Third Reason Other</mat-label>
                                <input matInput formControlName="leavingReason3Other" placeholder="Third Reason Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <h4>7. What are the main reasons behind your return to Afghanistan?</h4>
                    <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container formArrayName="returnReasons" *ngFor="let reason of returnReasons.controls; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div [formGroupName]="i" fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox formControlName="isSelected" value="{{reason.controls.lookupCode.value}}">{{reason.controls.lookupName.value}}</mat-checkbox>
                                    <input matInput placeholder="Reason other" value="{{reason.controls.other.value}}" *ngIf="reason.controls.isSelected.value == true && reason.controls.lookupName.value == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <h4 class="mt20">8. Rank which of these options is the most important for you to determine your destination in Afghanistan</h4>
                    <div formArrayName="determinations" *ngFor="let determination of determinations.controls;let i=index; last as last;" [ngClass]="{'borderButtom': !last}" class="pt10" fxLayout="row wrap" fxLayoutAlign="space-between start">
                        <ng-container [formGroupName]="i">
                            <div fxFlex="0 1 calc(40% - 32px)" fxLayoutAlign="space-between start">
                                <mat-label style=" margin-right: 20px;">{{determination.controls.lookupName.value}}</mat-label>
                                <input formControlName="other" *ngIf="determination.controls.lookupName.value == 'Other'" fxFlex="100%" matInput placeholder="Determination other">
                            </div>
                            <mat-radio-group formControlName="answerCode" fxFlex="0 1 calc(60% - 32px)" fxLayoutAlign="space-between start" fxLayout.lt-sm="column" aria-label="Select an option">
                                <mat-radio-button value="NAAIMP">Not at all Important</mat-radio-button>
                                <mat-radio-button value="SIMP">Slightly Important</mat-radio-button>
                                <mat-radio-button value="IMP">Important</mat-radio-button>
                                <mat-radio-button value="VIMP">Very Important</mat-radio-button>
                            </mat-radio-group>
                        </ng-container>
                    </div>
                    <mat-divider style="background-color: #3f51b5; height: 1px;">
                    </mat-divider>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>9. Do you own housing (house/apartment)?</h4>
                        <mat-radio-group formControlName="ownHouse" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutAlign="start center" fxLayoutGap="20px">
                        <h4 fxFelx style="text-align: center;">10. Where will you live?</h4>
                        <mat-form-field fxFlex="0 1 40%" fxLayout.lt-sm="column" floatLabel="never">
                            <mat-select formControlName="whereWillLive" placeholder="Select where will you live?">
                                <mat-option *ngFor="let reason of initialLooupsData?.whereWillLive" [value]="reason.lookupCode">
                                    {{ reason.lookupName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx class="pt20">11. How much rent would you pay per month for accommodation?</h4>

                        <mat-form-field fxFlexAlign="start" fxFlex floatLabel="never">
                            <input matInput formControlName="rentPayForAccom" placeholder="Rent amont">
                        </mat-form-field>
                        <mat-radio-group class="pt20" formControlName="rentPayCurrency" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button value="USD">USD</mat-radio-button>
                            <mat-radio-button value="AFG">AFG</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <h4>12. How would you find the money for rental payments?</h4>
                    <div formArrayName="moneySources" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let source of moneySources.controls; let i=index;">
                            <div [formGroupName]="i" fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox formControlName="isSelected" value="{{source.controls.lookupCode.value}}">{{source.controls.lookupName.value}}</mat-checkbox>
                                    <input formControlName="other" matInput placeholder="Money source other" *ngIf="source.controls.isSelected.value==true && source.controls.lookupName.value == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>13. If there was a job opening for your wife, sister, daughter or adult female family member, would you allow her to work? </h4>
                        <mat-radio-group formControlName="allowForJob" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </mat-tab>
                <mat-tab label="Host Country">
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start">
                        <h4 fxFlex="0 1 calc(20% - 32px)" class="pt20">14. Country of Exile</h4>
                        <mat-radio-group (change)="hostCountryChanged($event)" fxFlex="0 1 calc(30% - 32px)" class="pt20" formControlName="countryOfExile" fxLayoutAlign="space-between start" fxLayoutGap="30px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button value="Iran">Iran</mat-radio-button>
                            <mat-radio-button value="Pakistan">Pakistan</mat-radio-button>
                            <mat-radio-button value="COther">Other</mat-radio-button>
                        </mat-radio-group>
                        <mat-form-field fxFlex="0 1 calc(50% - 32px)">
                            <input matInput formControlName="countryOfExilOther" placeholder="Other Country">
                        </mat-form-field>
                    </div>
                    <h4>15. Place of residence before return/deportation</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(33.3% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Province" formControlName="beforReturnProvince" (selectionChange)="hostCountryProvinceChanged($event)">
                                    <mat-option *ngFor="let provicne of hostCountryProvinces" [value]="provicne.id">
                                        {{ provicne.name }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(33.3% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="District" formControlName="beforReturnDistrictID">
                                    <mat-option *ngFor="let district of hostCountryDistricts" [value]="district.id">
                                        {{ district.name }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(33.3% - 32px)">
                            <mat-form-field class="full-width">
                                <input matInput formControlName="beforReturnRemarks" placeholder="Remarks">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-around start">
                        <h4 fxFlex="0 1 calc(40% - 32px)" class="pt20">Do you have family members who stayed behind? </h4>
                        <mat-radio-group formControlName="familyMemStayedBehind" fxFlex="0 1 calc(20% - 32px)" class="pt20" name="FamilyMemStayedBehind" fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                        <mat-label fxFlex="0 1 calc(20% - 32px)" class="mt20">If yes how many</mat-label>
                        <mat-form-field fxFlex>
                            <input matInput formControlName="familyMemStayedBehindNo" placeholder="Number of member stayed behind">
                        </mat-form-field>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelex class="pt20">16. Length of stay in host country </h4>
                        <mat-form-field fxFlex>
                            <mat-label>Years</mat-label>
                            <input matInput formControlName="lengthOfStayYears" type="number">
                        </mat-form-field>
                        <mat-form-field fxFlex>
                            <mat-label>Months</mat-label>
                            <input matInput formControlName="lengthOfStayMonths" type="number">
                        </mat-form-field>
                        <mat-form-field fxFlex>
                            <mat-label>Days</mat-label>
                            <input matInput formControlName="lengthOfStayDays" type="number">
                        </mat-form-field>
                    </div>
                    <h4>17. Items brought from host country</h4>
                    <div formArrayName="broughtItems" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let item of broughtItems.controls; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(30% - 32px)" fxFlex.lt-sm="100%">
                                <div [formGroupName]="i" fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox formControlName="isSelected" value="{{item.controls.lookupCode.value}}">{{item.controls.lookupName.value}}</mat-checkbox>
                                    <input matInput formControlName="other" placeholder="Item brought other" *ngIf="item.controls.isSelected.value == true && item.controls.lookupName.value == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>18. If you had the opportunity would you return to Pakistan/Iran?</h4>
                        <mat-radio-group formControlName="wouldYouReturn" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </mat-tab>
                <mat-tab label="Assistance Needs 1">
                    <h4 class="pt20">19. Post Arrival Humanitarian Assistance Needs</h4>
                    <table mat-table formArrayName="postArrivalNeeds" [dataSource]="postArrivalNeedsList" class="mat-elevation-z8">
                        <ng-container matColumnDef="NeedAssistance">
                            <th mat-header-cell *matHeaderCellDef> Need/Assistance </th>
                            <td mat-cell *matCellDef="let row; let i = index;" [formGroupName]="i"> {{row.lookupName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="IsProvided">
                            <th mat-header-cell *matHeaderCellDef> Is Provided </th>
                            <td mat-cell *matCellDef="let row; let i=index;" [formGroupName]="i">
                                <mat-checkbox formControlName="isProvided"></mat-checkbox>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="ProvidedDate">
                            <th mat-header-cell *matHeaderCellDef> Date Provided </th>
                            <td mat-cell *matCellDef="let row; let i=index;" [formGroupName]="i">
                                <mat-form-field>
                                    <!-- <mat-label>Choose a date</mat-label> -->
                                    <input matInput [matDatepicker]="providedDate" formControlName="providedDate">
                                    <mat-datepicker-toggle matSuffix [for]="providedDate"></mat-datepicker-toggle>
                                    <mat-datepicker #providedDate></mat-datepicker>
                                </mat-form-field>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Comments">
                            <th mat-header-cell *matHeaderCellDef> Comments </th>
                            <td mat-cell *matCellDef="let row; let i=index;" [formGroupName]="i">
                                <mat-form-field class="full-width" floatLabel="never">
                                    <input matInput placeholder="Comments" formControlName="comment">
                                </mat-form-field>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="postArrivalNeedTbleColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: postArrivalNeedTbleColumns;"></tr>
                    </table>
                </mat-tab>
                <mat-tab label="Assistance Needs 2">
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>20. Have you or your family benefited from UNHCR or IOM programming in the past? </h4>
                        <mat-radio-group (change)="benefitedFromOrgsChange($event)" formControlName="haveFamilyBenefited" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div fxLayout="column" *ngIf="beneficiaryForm.get('haveFamilyBenefited').value">
                        <div fxLayout="row" fxLayoutAlign="end" fxLayoutAlign="space-between start">
                            <p>If yes, when and where</p>
                            <button *ngIf="benefitedFromOrgs.controls.length < 2" mat-raised-button (click)="addOtherOrg()" color="primary" title="Add other organization" aria-label="Add other organization">
                                <mat-icon>add</mat-icon>
                                Add Organization
                            </button>
                        </div>
                        <div formArrayName="benefitedFromOrgs" *ngFor="let org of benefitedFromOrgs.controls;let i = index;">
                            <div [formGroupName]="i">
                                <div fxLayout="row" fxLayoutAlign="end start">
                                    <button *ngIf="benefitedFromOrgs.controls.length > 1" mat-icon-button (click)="benefitedFromOrgs.removeAt(i)" color="primary" title="Add organization" aria-label="Add organization">
                                        <mat-icon>cancel</mat-icon>
                                    </button>
                                </div>
                                <fieldset>
                                    <legend>Organization {{i+1}} Information</legend>
                                    <div fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="10px">
                                        <div fxFlex="15%">
                                            <mat-form-field fxFlex="100%">
                                                <mat-label>Date</mat-label>
                                                <input formControlName="date" matInput [matDatepicker]="date">
                                                <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
                                                <mat-datepicker #date></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="provinceCode" (selectionChange)="getDistrictBenefitedIn($event.value,i)" placeholder="Province">
                                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                                        {{ provicne.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="districtID" placeholder="District">
                                                    <mat-option *ngFor="let provicne of benefitedFromOrgsInDistrict[i]" [value]="provicne.lookupCode">
                                                        {{ provicne.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <input formControlName="village" matInput placeholder="Village/Nahya">
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="orgCode" placeholder="Organization">
                                                    <mat-option *ngFor="let provicne of initialLooupsData?.organizations" [value]="provicne.lookupCode">
                                                        {{ provicne.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="20%">
                                            <mat-form-field class="full-width">
                                                <input formControlName="assistanceProvided" matInput placeholder="Assistance Provided">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutGap="20px">
                        <h4 class="mt20" fxFelx>21. Transportation (UMC and other cases with difficulties)</h4>
                        <div fxFlex="20%">
                            <mat-form-field floatLabel="never" fxFlex="100%">
                                <mat-label>Date</mat-label>
                                <input matInput formControlName="transportationDate" [matDatepicker]="TransportationDate">
                                <mat-datepicker-toggle matSuffix [for]="TransportationDate"></mat-datepicker-toggle>
                                <mat-datepicker #TransportationDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                    <div formArrayName="transportations" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let transport of transportations.controls; let i=index;">
                            <div fxFlex="0 1 calc(50% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div [formGroupName]="i" fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox formControlName="isSelected" value="{{transport.controls.lookupCode.value}}">{{transport.controls.lookupName.value}}</mat-checkbox>
                                    <input formControlName="other" matInput placeholder="Other transportation difficulties" *ngIf="transport.controls.isSelected.value == true && transport.controls.lookupName.value == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div fxLayout="column">
                        <mat-form-field class="full-width">
                            <input matInput formControlName="transportationInfo" placeholder="additional information">
                        </mat-form-field>
                    </div>
                    <div fxLayout="row" fxLayoutGap="30px" fxLayoutAlign="space-between start">
                        <mat-form-field fxFlext class="full-width">
                            <input matInput formControlName="transportAccompaniedBy" placeholder="Accompanied by">
                        </mat-form-field>
                        <mat-form-field fxFlext class="full-width">
                            <input matInput formControlName="transportAccomByNo" placeholder="Mobile">
                        </mat-form-field>
                    </div>
                </mat-tab>
                <mat-tab label="Reintegration Need">
                    <h4 class="mt20">22. What are the three top needs in order of importance</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select formControlName="topNeed1" placeholder="First Need">
                                    <mat-option *ngFor="let need of initialLooupsData?.topNeeds" [value]="need.lookupCode">
                                        {{ need.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>First Reason Other</mat-label>
                                <input matInput formControlName="topNeed1Other" placeholder="First Need Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select formControlName="topNeed2" placeholder="Secon Need">
                                    <mat-option *ngFor="let need of initialLooupsData?.topNeeds" [value]="need.lookupCode">
                                        {{ need.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Secon Need Other</mat-label>
                                <input matInput formControlName="topNeed2Other" placeholder="Second Need Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select formControlName="topNeed3" placeholder="Third Need">
                                    <mat-option *ngFor="let need of initialLooupsData?.topNeeds" [value]="need.lookupCode">
                                        {{ need.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Third Need Other</mat-label>
                                <input matInput formControlName="topNeed3Other" placeholder="Third Need Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <h4 class="mt20" fxFlex="0 1 calc(35% - 20px)">23. What do you intend to do?</h4>
                        <div fxFlex="0 1 calc(35% - 20px)">
                            <mat-form-field class="full-width" floatLabel="never">
                                <mat-select formControlName="intendToDo" placeholder="Select intend to do" floatLabel="never">
                                    <mat-option *ngFor="let toDo of initialLooupsData?.intendToDos" [value]="toDo.lookupCode">
                                        {{ toDo.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>State Reason</mat-label>
                                <input matInput formControlName="intendToReturnToHostReason" placeholder="State Reason">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <h4 class="mt20" fxFlex="0 1 calc(35% - 20px)">24. What was your profession in Pakistan/Iran?</h4>
                        <div fxFlex="0 1 calc(35% - 20px)">
                            <mat-form-field class="full-width" floatLabel="never">
                                <mat-select formControlName="professionInHostCountry" placeholder="Select Profession">
                                    <mat-option *ngFor="let profession of initialLooupsData?.professions" [value]="profession.lookupCode">
                                        {{ profession.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Profession Other</mat-label>
                                <input matInput formControlName="professionInHostCountryOther" placeholder="Profession Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <h4 class="mt20" fxFlex="0 1 calc(40% - 20px)">25. What can help you obtain livelihood opportunities or employment in Afghanistan?</h4>
                    <div formArrayName="livelihoodEmpNeeds" fxLayout="row wrap" fxLayoutGap="40px">
                        <div fxFlex="0 1 calc(40% - 40px)" *ngFor="let help of livelihoodEmpNeeds.controls; let i=index;">
                            <ng-container [formGroupName]="i">
                                <mat-checkbox formControlName="isSelected" value="{{help.controls.lookupCode.value}">{{help.controls.lookupName.value}}</mat-checkbox>
                            </ng-container>
                        </div>
                    </div>
                    <fieldset>
                        <legend>Tools</legend>
                        <div formArrayName="needTools" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                            <ng-container *ngFor="let tool of needTools.controls; let i=index;">
                                <div [formGroupName]="i" fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                    <div fxLayout="row" fxLayoutGap="20px">
                                        <mat-checkbox formControlName="isSelected" value="{{tool.controls.lookupCode.value}}">{{tool.controls.lookupName.value}}</mat-checkbox>
                                        <input formControlName="other" matInput placeholder="Need tool other" *ngIf="tool.controls.isSelected.value == true && tool.controls.lookupName.value == 'Other'">
                                    </div>
                                </div>
                            </ng-container>
                        </div>

                    </fieldset>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>26 Can you read and write- HoH</h4>
                        <mat-radio-group formControlName="hoHCanReadWrite" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <h4 class="mt20" fxFlex="0 1 calc(40% - 20px)">27. What is the highest education level achieved by the HoH?</h4>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field class="full-width" floatLabel="never">
                                <mat-select formControlName="hoHEducationLevel" placeholder="Select Education level">
                                    <mat-option *ngFor="let education of initialLooupsData?.educationLevels" [value]="education.lookupCode">
                                        {{ education.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Education level Other</mat-label>
                                <input matInput formControlName="hoHEducationLevelOther" placeholder="Education level Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <h4>28. What are your main concerns in Afghanistan?</h4>
                    <fieldset>
                        <legend>Main concerns</legend>
                        <div formArrayName="mainConcerns" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                            <ng-container *ngFor="let concern of mainConcerns.controls; let i=index;">
                                <div [formGroupName]="i" fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                    <div fxLayout="row" fxLayoutGap="20px">
                                        <mat-checkbox formControlName="isSelected" value="{{concern.controls.lookupCode.value}}">{{concern.controls.lookupName.value}}</mat-checkbox>
                                        <input matInput formControlName="other" placeholder="Concern other" *ngIf="concern.controls.isSelected.value == true && concern.controls.lookupName.value == 'Other'">
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </fieldset>
                    <h4 class="mt20">29. How many members of Household have Afghan documentation?</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Document Type</th>
                                <th>Number of household members</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><label for="">Tazkira</label></td>
                                <td>
                                    <mat-form-field class="full-width">
                                        <input formControlName="numHHHaveTaskira" matInput placeholder="Number of household members have">
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td><label for="">Passport</label></td>
                                <td>
                                    <mat-form-field class="full-width">
                                        <input formControlName="numHHHavePassport" matInput placeholder="Number of household members have Passport">
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td><label for="">Other (driver’s license, marriage certificate, school certificates etc.)</label></td>
                                <td>
                                    <mat-form-field class="full-width">
                                        <input matInput formControlName="numHHHaveDocOther" placeholder="Number of household members have">
                                    </mat-form-field>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>30. Do you have any secure means of livelihood or savings to subsist from? </h4>
                        <mat-radio-group formControlName="doHaveSecureLivelihood" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>31. Did your children go to school in host country?</h4>
                        <mat-radio-group formControlName="didChildrenGoToSchoole" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <fieldset>
                        <legend>if Yes, specify</legend>
                        <div fxLayout="row" fxLayoutGap="40px">
                            <div formArrayName="hostCountrySchools" fxFlex="0 1 calc(50% - 40px)" fxLayout="row wrap" fxLayoutGap="50px" class="mt20">
                                <div *ngFor="let school of hostCountrySchools.controls; let i=index;">
                                    <ng-container [formGroupName]="i">
                                        <mat-checkbox formControlName="isSelected" value="{{school.controls.lookupCode.value}}">{{school.controls.lookupName.value}}</mat-checkbox>
                                    </ng-container>
                                </div>
                            </div>
                            <div fxFlex="0 1 calc(50% - 40px)">
                                <mat-form-field class="full-width">
                                    <input matInput formControlName="numChildrenAttendedSchoole" placeholder="How many of your children attended school? ">
                                </mat-form-field>
                            </div>

                        </div>
                    </fieldset>
                </mat-tab>
                <mat-tab label="Image & Card">
                    <div class="mt20">
                        <img [src]="photoPath" class="mg-thumbnail" alt="Beneficiary Image" width="200px" height="200px">
                    </div>
                </mat-tab>
            </mat-tab-group>
        </mat-card-content>
        <mat-card-actions fxLayout="row" fxLayoutAlign="end start">
            <button mat-raised-button color="primary" *ngIf="selectedTab.value!=0" (click)="selectedTab.setValue((selectedTab.value)-1)" type="button">Previous</button>
            <button mat-raised-button color="primary" (click)="selectedTab.setValue((selectedTab.value)+1)" type="button">Next</button>
            <button mat-raised-button color="primary" type="submit">Submit</button>
        </mat-card-actions>
    </mat-card>
</form>