<form [formGroup]="beneficiaryForm" novalidate (ngSubmit)="onSubmit()">
    <mat-card class="beneficary-card">
        <mat-card-header>
            <mat-card-title>Beneficairy Information</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-tab-group #beneficiaryTab [selectedIndex]="selectedTab.value" (selectedIndexChange)="selectedTab.setValue($event)">
                <mat-tab label="Profile">
                    <h4 class="mt20">1. Border Crossing Point Information</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Card ID</mat-label>
                                <input matInput formControlName="cardID">
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Screening Date</mat-label>
                                <input matInput [matDatepicker]="screeningDate" formControlName="screeningDate">
                                <mat-datepicker-toggle matSuffix [for]="screeningDate"></mat-datepicker-toggle>
                                <mat-datepicker #screeningDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Province" formControlName="provinceBCP">
                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                        {{ provicne.lookupName }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="beneficiaryForm.controls['provinceBCP'].hasError('required')">
                                    State is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(25% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Border Point" formControlName="borderPoint">
                                    <mat-option *ngFor="let bPoint of initialLooupsData?.borderCrossingPoints" [value]="bPoint.lookupCode">
                                        {{ bPoint.lookupName }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="beneficiaryForm.controls['borderPoint'].hasError('required')">
                                    State is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <h4>2. Beneficiary Informaion</h4>
                    <div fxLayout="row wrap">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <!-- <div fxLayout="row" fxLayoutAlign="space-between start"> -->
                            <p>Beneficiary Type: </p>
                            <mat-radio-group formControlName="beneficiaryType" fxLayout="row" fxLayoutGap="30px">
                                <mat-radio-button value="Family">Family</mat-radio-button>
                                <mat-radio-button value="Individual">Individual</mat-radio-button>
                            </mat-radio-group>
                            <!-- </div> -->

                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(60.3% - 32px)">
                            <!-- <div fxLayout="row" fxLayoutAlign="space-between start"> -->
                            <p>Return Status: </p>
                            <mat-radio-group formControlName="returnStatus" fxLayout="row" fxLayoutGap="30px">
                                <mat-radio-button value="DEP">Deported</mat-radio-button>
                                <mat-radio-button value="DC">Document claimant</mat-radio-button>
                                <mat-radio-button value="SR">Spontaneous returnee</mat-radio-button>
                            </mat-radio-group>
                            <!-- </div> -->
                        </div>
                    </div>
                    <mat-divider class="mt20">
                    </mat-divider>

                    <div fxLayout="row" class="mt20">
                        <div fxLayout="column" class="individualHolder">
                            <h4>3. Family members</h4>
                            <table class="indTable">
                                <thead>
                                    <tr>
                                        <th style="width: 10%;">Name</th>
                                        <th style="width: 10%;">Father Name</th>
                                        <th style="width: 5%;">Gender</th>
                                        <th style="width: 5%;">Marital Status</th>
                                        <th style="width: 3%;">Age</th>
                                        <th style="width: 5%;">ID Type</th>
                                        <th style="width: 5%;">ID No</th>
                                        <th style="width: 5%;">Relationship</th>
                                        <th style="width: 5%;">Contact No</th>
                                        <th style="width: 5%; text-align: right;">نوم/نام</th>
                                        <th style="width: 5%; text-align: right;">ولد</th>
                                        <th style="width: 5%;"></th>
                                    </tr>
                                    <tr [formGroup]="individualForm">
                                        <td>
                                            <input formControlName="name" matInput placeholder="Name">
                                        </td>
                                        <td>
                                            <input formControlName="fName" matInput placeholder="Faher Name">
                                        </td>
                                        <td>
                                            <mat-select formControlName="genderCode" placeholder="Gender">
                                                <mat-option *ngFor="let gender of initialLooupsData?.gender" [value]="gender.lookupCode">
                                                    {{ gender.lookupName }}
                                                </mat-option>
                                            </mat-select>
                                        </td>
                                        <td>
                                            <mat-select formControlName="maritalStatusCode" placeholder="Marital Status">
                                                <mat-option *ngFor="let mStatus of initialLooupsData?.maritalStatus" [value]="mStatus.lookupCode">
                                                    {{ mStatus.lookupName }}
                                                </mat-option>
                                            </mat-select>
                                        </td>
                                        <td>
                                            <input formControlName="age" matInput placeholder="Age">
                                        </td>
                                        <td>
                                            <mat-select formControlName="idTypeCode" placeholder="ID Type">
                                                <mat-option *ngFor="let idType of initialLooupsData?.idTypes" [value]="idType.lookupCode">
                                                    {{ idType.lookupName }}
                                                </mat-option>
                                            </mat-select>
                                        </td>
                                        <td>
                                            <input formControlName="idNo" matInput placeholder="idNo">
                                        </td>
                                        <td>
                                            <mat-select formControlName="relationshipCode" placeholder="Relationship">
                                                <mat-option *ngFor="let relationship of initialLooupsData?.relationships" [value]="relationship.lookupCode">
                                                    {{ relationship.lookupName }}
                                                </mat-option>
                                            </mat-select>
                                        </td>
                                        <td>
                                            <input formControlName="contactNumber" matInput placeholder="Contact No">
                                        </td>
                                        <td>
                                            <input formControlName="drName" matInput placeholder="نوم/نام" style="text-align: right;">
                                        </td>
                                        <td>
                                            <input formControlName="drFName" matInput placeholder="ولد" style="text-align: right;">
                                        </td>
                                        <td fxLayout="row" fxLayoutAlign="end center">
                                            <button mat-raised-button color="primary" title="Add new user" aria-label="Add user">
                                                <mat-icon>person_add</mat-icon>
                                                Save
                                            </button>
                                            <!-- <button mat-raised-button color="primary">Save</button> -->
                                        </td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr formArrayName="individuals" *ngFor="let ind of individualsArray.controls; let i=index">
                                        <ng-container [formGroupName]="i">
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('name').value}}
                                                </ng-container>
                                                <input matInput *ngIf="individualEditRowIndex == i" formControlName="name" placeholder="Name">
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('fName').value}}
                                                </ng-container>
                                                <input *ngIf="individualEditRowIndex == i" formControlName="fName" matInput placeholder="Faher Name">
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('gender').value}}
                                                </ng-container>
                                                <mat-select *ngIf="individualEditRowIndex == i" formControlName="genderCode" placeholder="Gender">
                                                    <mat-option *ngFor="let gender of initialLooupsData?.gender" [value]="gender.lookupCode">
                                                        {{ gender.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('maritalStatus').value}}
                                                </ng-container>
                                                <mat-select *ngIf="individualEditRowIndex == i" formControlName="maritalStatusCode" placeholder="Marital Status">
                                                    <mat-option *ngFor="let mStatus of initialLooupsData?.maritalStatus" [value]="mStatus.lookupCode">
                                                        {{ mStatus.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('age').value}}
                                                </ng-container>
                                                <input *ngIf="individualEditRowIndex == i" formControlName="age" matInput placeholder="Faher Name">
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('idType').value}}
                                                </ng-container>
                                                <mat-select *ngIf="individualEditRowIndex == i" formControlName="idTypeCode" placeholder="ID Type">
                                                    <mat-option *ngFor="let idType of initialLooupsData?.idTypes" [value]="idType.lookupCode">
                                                        {{ idType.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('idNo').value}}
                                                </ng-container>
                                                <input *ngIf="individualEditRowIndex == i" formControlName="idNo" matInput placeholder="Faher Name">
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('relationship').value}}
                                                </ng-container>
                                                <mat-select *ngIf="individualEditRowIndex == i" formControlName="relationshipCode" placeholder="Relationship">
                                                    <mat-option *ngFor="let relationship of initialLooupsData?.relationships" [value]="relationship.lookupCode">
                                                        {{ relationship.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('contactNumber').value}}
                                                </ng-container>
                                                <input *ngIf="individualEditRowIndex == i" formControlName="contactNumber" matInput placeholder="Contact No">
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('drName').value}}
                                                </ng-container>
                                                <input *ngIf="individualEditRowIndex == i" formControlName="drName" matInput placeholder="نوم/نام" style="text-align: right;">
                                            </td>
                                            <td>
                                                <ng-container *ngIf="individualEditRowIndex != i">
                                                    {{ind.get('drFName').value}}
                                                </ng-container>
                                                <input *ngIf="individualEditRowIndex == i" formControlName="drFName" matInput placeholder="ولد" style="text-align: right;">
                                            </td>
                                            <td>
                                                <div *ngIf="individualEditRowIndex == i" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="space-around start">
                                                    <button mat-raised-button color="default" title="Add new user" aria-label="Add user">
                                                        <mat-icon>save</mat-icon>
                                                        Save
                                                    </button>
                                                </div>
                                                <div *ngIf="individualEditRowIndex != i" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="space-around start">
                                                    <button mat-icon-button mat-mini-fab color="primary" title="Edite member" aria-label="Edite member">
                                                        <mat-icon>edit</mat-icon>
                                                    </button>
                                                    <button mat-icon-button mat-mini-fab color="warn" title="Delete member" aria-label="Delete member">
                                                        <mat-icon>delete</mat-icon>
                                                    </button>
                                                </div>
                                            </td>
                                        </ng-container>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <h4 class="mt10">4. Please indicate the place of origin and intended place of return </h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Origin Province" (selectionChange)="originProvinceChanged($event)" formControlName="originProvince">
                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                        {{ provicne.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(20% - 32px)" fxLayoutAlign="center center">
                            <mat-checkbox id="chSameProvince">Same as Origin</mat-checkbox>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(40.3% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Return Province" (selectionChange)="returnProvinceChanged($event)" formControlName="returnProvince">
                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                        {{ provicne.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Origin District" formControlName="originDistrict">
                                    <mat-option *ngFor="let district of originDistricts" [value]="district.lookupCode">
                                        {{ district.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(20% - 32px)" fxLayoutAlign="center center">
                            <mat-checkbox id="chSameDistrict">Same as Origin</mat-checkbox>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Return District" formControlName="returnDistrict">
                                    <mat-option *ngFor="let district of returnDistricts" [value]="district.lookupCode">
                                        {{ district.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <input matInput placeholder="Origin Village" formControlName="originVillage">
                            </mat-form-field>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(20% - 32px)" fxLayoutAlign="center center">
                            <mat-checkbox id="chSameVillage">Same as Origin</mat-checkbox>
                        </div>
                        <div fxLayout="column" fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <input matInput placeholder="Village" formControlName="returnVillage">
                            </mat-form-field>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Protection">
                    <h4 class="mt20">5. Does this case have person with specific needs(PSN)</h4>
                    <div formArrayName="psns" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let psn of psns.controls; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div [formGroupName]="i" fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox formControlName="isSelected" value="{{psn.controls.lookupCode.value}}">{{psn.controls.lookupName.value}}</mat-checkbox>
                                    <input matInput formControlName="other" placeholder="PSN other" value="{{psn.controls.lookupName.other}}" *ngIf="psn.controls.isSelected.value == true && psn.controls.lookupName.value == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <h4>6. What were the three main reasons for leaving Afghanistan?</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="First Reason" formControlName="leavingReason1">
                                    <mat-option *ngFor="let reason of initialLooupsData?.leavingReasons" [value]="reason.lookupCode">
                                        {{ reason.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>First Reason Other</mat-label>
                                <input matInput formControlName="leavingReason1Other" placeholder="First Reason Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Second Reason" formControlName="leavingReason2">
                                    <mat-option *ngFor="let reason of initialLooupsData?.leavingReasons" [value]="reason.lookupCode">
                                        {{ reason.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Second Reason Other</mat-label>
                                <input matInput formControlName="leavingReason2Other" placeholder="Second Reason Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Third Reason" formControlName="leavingReason3">
                                    <mat-option *ngFor="let reason of initialLooupsData?.leavingReasons" [value]="reason.lookupCode">
                                        {{ reason.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Third Reason Other</mat-label>
                                <input matInput formControlName="leavingReason3Other" placeholder="Third Reason Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <h4>7. What are the main reasons behind your return to Afghanistan?</h4>
                    <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let reason of returnReason; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox value="{{reason.lookupCode}}" [checked]="reason.isSelected">{{reason.lookupName}}</mat-checkbox>
                                    <input matInput placeholder="Reason other" value="{{reason.other}}" *ngIf="reason.lookupName == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <h4 class="mt20">8. Rank which of these options is the most important for you to determine your destination in Afghanistan</h4>
                    <div [ngClass]="{'borderButtom': !last}" class="pt10" fxLayout="row wrap" *ngFor="let determination of determinations; last as last" fxLayoutAlign="space-between start">
                        <div fxFlex="0 1 calc(40% - 32px)" fxLayoutAlign="space-between start">
                            <mat-label style=" margin-right: 20px;">{{determination.lookupName}}</mat-label>
                            <input *ngIf="determination.lookupCode == 'RankImpOther'" value="{{determination.other}}" fxFlex="100%" matInput placeholder="Determination other">
                        </div>
                        <mat-radio-group fxFlex="0 1 calc(60% - 32px)" [value]="determination.answerCode" fxLayoutAlign="space-between start" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button value="NAAIMP">Not at all Important</mat-radio-button>
                            <mat-radio-button value="SIMP">Slightly Important</mat-radio-button>
                            <mat-radio-button value="IMP">Important</mat-radio-button>
                            <mat-radio-button value="VIMP">Very Important</mat-radio-button>
                        </mat-radio-group>
                    </div>

                    <mat-divider style="background-color: #3f51b5; height: 1px;">
                    </mat-divider>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>9. Do you own housing (house/apartment)?</h4>
                        <mat-radio-group formControlName="ownHouse" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutAlign="start center" fxLayoutGap="20px">
                        <h4 fxFelx style="text-align: center;">10. Where will you live?</h4>
                        <mat-form-field fxFlex="0 1 40%" fxLayout.lt-sm="column" floatLabel="never">
                            <mat-select formControlName="whereWillLive" placeholder="Select where will you live?">
                                <mat-option *ngFor="let reason of initialLooupsData?.whereWillLive" [value]="reason.lookupCode">
                                    {{ reason.lookupName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx class="pt20">11. How much rent would you pay per month for accommodation?</h4>

                        <mat-form-field fxFlexAlign="start" fxFlex floatLabel="never">
                            <input matInput formControlName="rentPayForAccom" placeholder="Rent amont">
                        </mat-form-field>
                        <mat-radio-group class="pt20" formControlName="rentPayCurrency" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button value="USD">USD</mat-radio-button>
                            <mat-radio-button value="AFG">AFG</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <h4>12. How would you find the money for rental payments?</h4>
                    <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let source of moneySources; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox value="{{source.lookupCode}}" [checked]="source.isSelected">{{source.lookupName}}</mat-checkbox>
                                    <input matInput placeholder="Money source other" value="{{source.other}}" *ngIf="source.lookupName == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>13. If there was a job opening for your wife, sister, daughter or adult female family member, would you allow her to work? </h4>
                        <mat-radio-group formControlName="allowForJob" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </mat-tab>
                <mat-tab label="Host Country">
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start">
                        <h4 fxFlex="0 1 calc(20% - 32px)" class="pt20">14. Country of Exile</h4>
                        <mat-radio-group (change)="hostCountryChanged($event)" fxFlex="0 1 calc(30% - 32px)" class="pt20" formControlName="countryOfExile" fxLayoutAlign="space-between start" fxLayoutGap="30px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button value="Iran">Iran</mat-radio-button>
                            <mat-radio-button value="Pakistan">Pakistan</mat-radio-button>
                            <mat-radio-button value="COther">Other</mat-radio-button>
                        </mat-radio-group>
                        <mat-form-field fxFlex="0 1 calc(50% - 32px)">
                            <input matInput formControlName="countryOfExilOther" placeholder="Other Country">
                        </mat-form-field>
                    </div>
                    <h4>15. Place of residence before return/deportation</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="0 1 calc(33.3% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Province" formControlName="beforReturnProvince" (selectionChange)="hostCountryProvinceChanged($event)">
                                    <mat-option *ngFor="let provicne of hostCountryProvinces" [value]="provicne.id">
                                        {{ provicne.name }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(33.3% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="District" formControlName="beforReturnDistrictID">
                                    <mat-option *ngFor="let district of hostCountryDistricts" [value]="district.id">
                                        {{ district.name }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(33.3% - 32px)">
                            <mat-form-field class="full-width">
                                <input matInput formControlName="beforReturnRemarks" placeholder="Remarks">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-around start">
                        <h4 fxFlex="0 1 calc(40% - 32px)" class="pt20">Do you have family members who stayed behind? </h4>
                        <mat-radio-group formControlName="familyMemStayedBehind" fxFlex="0 1 calc(20% - 32px)" class="pt20" name="FamilyMemStayedBehind" fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                        <mat-label fxFlex="0 1 calc(20% - 32px)" class="mt20">If yes how many</mat-label>
                        <mat-form-field fxFlex>
                            <input matInput formControlName="familyMemStayedBehindNo" placeholder="Number of member stayed behind">
                        </mat-form-field>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelex class="pt20">16. Length of stay in host country </h4>
                        <mat-form-field fxFlex>
                            <mat-label>Years</mat-label>
                            <input matInput formControlName="lengthOfStayYears" type="number">
                        </mat-form-field>
                        <mat-form-field fxFlex>
                            <mat-label>Months</mat-label>
                            <input matInput formControlName="lengthOfStayMonths" type="number">
                        </mat-form-field>
                        <mat-form-field fxFlex>
                            <mat-label>Days</mat-label>
                            <input matInput formControlName="lengthOfStayDays" type="number">
                        </mat-form-field>
                    </div>
                    <h4>17. Items brought from host country</h4>
                    <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let item of broughtItems; let i=index;">
                            <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox value="{{item.lookupCode}}" [checked]="item.isSelected">{{item.lookupName}}</mat-checkbox>
                                    <input matInput placeholder="Item brought other" value="{{item.other}}" *ngIf="item.lookupName == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>18. If you had the opportunity would you return to Pakistan/Iran?</h4>
                        <mat-radio-group formControlName="wouldYouReturn" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </mat-tab>
                <mat-tab label="Assistance Needs 1">
                    <h4 class="pt20">19. Post Arrival Humanitarian Assistance Needs</h4>
                    <table mat-table formArrayName="postArrivalNeeds" [dataSource]="postArrivalNeedsList" class="mat-elevation-z8">
                        <ng-container matColumnDef="NeedAssistance">
                            <th mat-header-cell *matHeaderCellDef> Need/Assistance </th>
                            <td mat-cell *matCellDef="let row; let i = index;" [formGroupName]="i"> {{row.lookupName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="IsProvided">
                            <th mat-header-cell *matHeaderCellDef> Is Provided </th>
                            <td mat-cell *matCellDef="let row; let i=index;" [formGroupName]="i">
                                <mat-checkbox formControlName="isProvided"></mat-checkbox>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="ProvidedDate">
                            <th mat-header-cell *matHeaderCellDef> Date Provided </th>
                            <td mat-cell *matCellDef="let row; let i=index;" [formGroupName]="i">
                                <mat-form-field>
                                    <!-- <mat-label>Choose a date</mat-label> -->
                                    <input matInput [matDatepicker]="providedDate" formControlName="providedDate">
                                    <mat-datepicker-toggle matSuffix [for]="providedDate"></mat-datepicker-toggle>
                                    <mat-datepicker #providedDate></mat-datepicker>
                                </mat-form-field>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Comments">
                            <th mat-header-cell *matHeaderCellDef> Comments </th>
                            <td mat-cell *matCellDef="let row; let i=index;" [formGroupName]="i">
                                <mat-form-field class="full-width" floatLabel="never">
                                    <input matInput placeholder="Comments" formControlName="comment">
                                </mat-form-field>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="postArrivalNeedTbleColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: postArrivalNeedTbleColumns;"></tr>
                    </table>
                </mat-tab>
                <mat-tab label="Assistance Needs 2">
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>20. Have you or your family benefited from UNHCR or IOM programming in the past? </h4>
                        <mat-radio-group formControlName="haveFamilyBenefited" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div fxLayout="column" *ngIf="beneficiaryForm.get('haveFamilyBenefited').value">
                        <p>If yes, when and where</p>
                        <div formArrayName="benefitedFromOrgs" *ngFor="let org of benefitedFromOrgs.controls;let i = index;">
                            <div [formGroupName]="i">
                                <p>element </p>{{org.controls.village.value}}
                                <fieldset>
                                    <legend>Organization {{i+1}} Information</legend>
                                    <div fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="10px">
                                        <div fxFlex="15%">
                                            <mat-form-field fxFlex="100%">
                                                <mat-label>Date</mat-label>
                                                <input formControlName="date" matInput [matDatepicker]="date">
                                                <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
                                                <mat-datepicker #date></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="provinceCode" (selectionChange)="getDistrictBenefitedIn($event.value,i)" placeholder="Province">
                                                    <mat-option *ngFor="let provicne of initialLooupsData?.provinces" [value]="provicne.lookupCode">
                                                        {{ provicne.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="districtID" placeholder="District">
                                                    <mat-option *ngFor="let provicne of benefitedFromOrgsInDistrict[i]" [value]="provicne.lookupCode">
                                                        {{ provicne.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <input formControlName="village" matInput placeholder="Village/Nahya">
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="15%">
                                            <mat-form-field class="full-width">
                                                <mat-select formControlName="orgCode" placeholder="Organization">
                                                    <mat-option *ngFor="let provicne of initialLooupsData?.organizations" [value]="provicne.lookupCode">
                                                        {{ provicne.lookupName }}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div fxFlex="20%">
                                            <mat-form-field class="full-width">
                                                <input formControlName="assistanceProvided" matInput placeholder="Assistance Provided">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutGap="20px">
                        <h4 class="mt20" fxFelx>21. Transportation (UMC and other cases with difficulties)</h4>
                        <div fxFlex="20%">
                            <mat-form-field floatLabel="never" fxFlex="100%">
                                <mat-label>Date</mat-label>
                                <input matInput formControlName="transportationDate" [matDatepicker]="TransportationDate">
                                <mat-datepicker-toggle matSuffix [for]="TransportationDate"></mat-datepicker-toggle>
                                <mat-datepicker #TransportationDate></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                        <ng-container *ngFor="let transport of transportations; let i=index;">
                            <div fxFlex="0 1 calc(50% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                <div fxLayout="row" fxLayoutGap="20px">
                                    <mat-checkbox value="{{transport.lookupCode}}" [checked]="transport.isSelected">{{transport.lookupName}}</mat-checkbox>
                                    <input matInput placeholder="Other transportation difficulties" value="{{transport.other}}" *ngIf="transport.lookupName == 'Other'">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div fxLayout="column">
                        <mat-form-field class="full-width">
                            <input matInput formControlName="transportationInfo" placeholder="Additional information">
                        </mat-form-field>
                    </div>
                    <div fxLayout="row" fxLayoutGap="30px" fxLayoutAlign="space-between start">
                        <mat-form-field fxFlext class="full-width">
                            <input matInput formControlName="transportAccompaniedBy" placeholder="Accompanied by">
                        </mat-form-field>
                        <mat-form-field fxFlext class="full-width">
                            <input matInput formControlName="transportAccomByNo" placeholder="Mobile">
                        </mat-form-field>
                    </div>
                </mat-tab>
                <mat-tab label="Reintegration Need">
                    <h4 class="mt20">22. What are the three top needs in order of importance</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select formControlName="topNeed1" placeholder="First Need">
                                    <mat-option *ngFor="let need of initialLooupsData?.topNeeds" [value]="need.lookupCode">
                                        {{ need.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>First Reason Other</mat-label>
                                <input matInput formControlName="topNeed1Other" placeholder="First Need Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select formControlName="topNeed2" placeholder="Secon Need">
                                    <mat-option *ngFor="let need of initialLooupsData?.topNeeds" [value]="need.lookupCode">
                                        {{ need.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Secon Need Other</mat-label>
                                <input matInput formControlName="topNeed2Other" placeholder="Second Need Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="32px">
                        <div fxFlex="0 1 calc(40% - 32px)">
                            <mat-form-field class="full-width">
                                <mat-select formControlName="topNeed3" placeholder="Third Need">
                                    <mat-option *ngFor="let need of initialLooupsData?.topNeeds" [value]="need.lookupCode">
                                        {{ need.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(60% - 32px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Third Need Other</mat-label>
                                <input matInput formControlName="topNeed3Other" placeholder="Third Need Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <h4 class="mt20" fxFlex="0 1 calc(35% - 20px)">23. What do you intend to do?</h4>
                        <div fxFlex="0 1 calc(35% - 20px)">
                            <mat-form-field class="full-width" floatLabel="never">
                                <mat-select formControlName="intendToDo" placeholder="Select intend to do" floatLabel="never">
                                    <mat-option *ngFor="let toDo of initialLooupsData?.intendToDos" [value]="toDo.lookupCode">
                                        {{ toDo.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>State Reason</mat-label>
                                <input matInput formControlName="intendToReturnToHostReason" placeholder="State Reason">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <h4 class="mt20" fxFlex="0 1 calc(35% - 20px)">24. What was your profession in Pakistan/Iran?</h4>
                        <div fxFlex="0 1 calc(35% - 20px)">
                            <mat-form-field class="full-width" floatLabel="never">
                                <mat-select formControlName="professionInHostCountry" placeholder="Select Profession">
                                    <mat-option *ngFor="let profession of initialLooupsData?.professions" [value]="profession.lookupCode">
                                        {{ profession.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Profession Other</mat-label>
                                <input matInput formControlName="professionInHostCountryOther" placeholder="Profession Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <h4 class="mt20" fxFlex="0 1 calc(40% - 20px)">25. What can help you obtain livelihood opportunities or employment in Afghanistan?</h4>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <mat-checkbox fxFlex *ngFor="let help of livelihoodEmpNeeds" value="{{help.lookupCode}" [checked]="help.isSelected">{{help.lookupName}}</mat-checkbox>
                    </div>
                    <fieldset>
                        <legend>Tools</legend>
                        <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                            <ng-container *ngFor="let tool of needTools; let i=index;">
                                <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                    <div fxLayout="row" fxLayoutGap="20px">
                                        <mat-checkbox value="{{tool.lookupCode}}" [checked]="tool.isSelected">{{tool.lookupName}}</mat-checkbox>
                                        <input matInput placeholder="Need tool other" value="{{tool.other}}" *ngIf="tool.lookupName == 'Other'">
                                    </div>
                                </div>
                            </ng-container>
                        </div>

                    </fieldset>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>26 Can you read and write- HoH</h4>
                        <mat-radio-group formControlName="hoHCanReadWrite" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between" fxLayoutGap="20px">
                        <h4 class="mt20" fxFlex="0 1 calc(40% - 20px)">27. What is the highest education level achieved by the HoH?</h4>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field class="full-width" floatLabel="never">
                                <mat-select formControlName="hoHEducationLevel" placeholder="Select Education level">
                                    <mat-option *ngFor="let education of initialLooupsData?.educationLevels" [value]="education.lookupCode">
                                        {{ education.lookupName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div fxFlex="0 1 calc(30% - 20px)">
                            <mat-form-field fxFlex="100%">
                                <mat-label>Education level Other</mat-label>
                                <input matInput formControlName="hoHEducationLevelOther" placeholder="Education level Other">
                            </mat-form-field>
                        </div>
                    </div>
                    <h4>28. What are your main concerns in Afghanistan?</h4>
                    <fieldset>
                        <legend>Main concerns</legend>
                        <div fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutGap="32px" fxLayoutAlign="flex-start">
                            <ng-container *ngFor="let concern of mainConcerns; let i=index;">
                                <div fxFlex="0 1 calc(33.3% - 32px)" fxFlex.lt-md="0 1 calc(50% - 32px)" fxFlex.lt-sm="100%">
                                    <div fxLayout="row" fxLayoutGap="20px">
                                        <mat-checkbox value="{{concern.lookupCode}}" [checked]="concern.isSelected">{{concern.lookupName}}</mat-checkbox>
                                        <input matInput placeholder="Concern other" [value]="concern.other" *ngIf="concern.lookupName == 'Other'">
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </fieldset>
                    <h4 class="mt20">29. How many members of Household have Afghan documentation?</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Document Type</th>
                                <th>Number of household members</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><label for="">Tazkira</label></td>
                                <td>
                                    <mat-form-field class="full-width">
                                        <input formControlName="numHHHaveTaskira" matInput placeholder="Number of household members have">
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td><label for="">Passport</label></td>
                                <td>
                                    <mat-form-field class="full-width">
                                        <input formControlName="numHHHavePassport" matInput placeholder="Number of household members have Passport">
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr>
                                <td><label for="">Other (driver’s license, marriage certificate, school certificates etc.)</label></td>
                                <td>
                                    <mat-form-field class="full-width">
                                        <input matInput formControlName="numHHHaveDocOther" placeholder="Number of household members have">
                                    </mat-form-field>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>30. Do you have any secure means of livelihood or savings to subsist from? </h4>
                        <mat-radio-group formControlName="doHaveSecureLivelihood" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div class="mt20" fxLayout="row wrap" fxLayoutAlign="space-between start" fxLayoutGap="20px">
                        <h4 fxFelx>31. Did your children go to school in host country?</h4>
                        <mat-radio-group formControlName="didChildrenGoToSchoole" fxFlex fxLayoutGap="20px" fxLayout.lt-sm="column" aria-label="Select an option">
                            <mat-radio-button [value]="true">Yes</mat-radio-button>
                            <mat-radio-button [value]="false">No</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <fieldset>
                        <legend>if Yes, specify</legend>
                        <div fxLayout="row" fxLayoutAlign="space-between start" fxLayoutGap="30px">
                            <mat-checkbox *ngFor="let school of hostCountrySchools" value="{{school.lookupCode}}" [checked]="school.isSelected" class="mt20">{{school.lookupName}}</mat-checkbox>
                            <mat-form-field class="full-width">
                                <input matInput formControlName="numChildrenAttendedSchoole" placeholder="How many of your children attended school? ">
                            </mat-form-field>
                        </div>
                    </fieldset>
                </mat-tab>
                <mat-tab label="Image & Card">
                    <div class="mt20">
                        <img [src]="photoPath" class="mg-thumbnail" alt="Beneficiary Image" width="200px" height="200px">
                    </div>
                </mat-tab>
            </mat-tab-group>
        </mat-card-content>
        <mat-card-actions fxLayout="row" fxLayoutAlign="end start">
            <button mat-raised-button color="primary" *ngIf="selectedTab.value!=0" (click)="selectedTab.setValue((selectedTab.value)-1)" type="button">Previous</button>
            <button mat-raised-button color="primary" (click)="selectedTab.setValue((selectedTab.value)+1)" type="button">Next</button>
            <button mat-raised-button color="primary" type="submit">Submit</button>
        </mat-card-actions>
    </mat-card>
</form>